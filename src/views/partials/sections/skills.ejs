<section id="skills" class="section gradient-bg">
  <div class="container mx-auto max-w-6xl">
    <h2 class="section-title">Habilidades Técnicas</h2>
    <p class="section-subtitle">Tecnologías y herramientas con las que trabajo</p>

    <!-- Tabs para categorías -->
    <div 
      x-data="{ 
        activeTab: 'all',
        skills: <%= JSON.stringify(data.skills) %>,
        get filteredSkills() {
          if (this.activeTab === 'all') return this.skills;
          return this.skills.filter(skill => skill.category === this.activeTab);
        }
      }"
      class="animate-on-scroll"
    >
      <!-- Tab buttons -->
      <div class="flex flex-wrap justify-center gap-3 mb-12">
        <button 
          @click="activeTab = 'all'"
          :class="activeTab === 'all' ? 'bg-primary-600 text-white' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'"
          class="px-6 py-2 rounded-full font-semibold transition-all duration-200 hover:scale-105"
        >
          Todas
        </button>
        <button 
          @click="activeTab = 'frontend'"
          :class="activeTab === 'frontend' ? 'bg-primary-600 text-white' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'"
          class="px-6 py-2 rounded-full font-semibold transition-all duration-200 hover:scale-105"
        >
          Frontend
        </button>
        <button 
          @click="activeTab = 'backend'"
          :class="activeTab === 'backend' ? 'bg-primary-600 text-white' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'"
          class="px-6 py-2 rounded-full font-semibold transition-all duration-200 hover:scale-105"
        >
          Backend
        </button>
        <button 
          @click="activeTab = 'database'"
          :class="activeTab === 'database' ? 'bg-primary-600 text-white' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'"
          class="px-6 py-2 rounded-full font-semibold transition-all duration-200 hover:scale-105"
        >
          Bases de Datos
        </button>
        <button 
          @click="activeTab = 'devops'"
          :class="activeTab === 'devops' ? 'bg-primary-600 text-white' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'"
          class="px-6 py-2 rounded-full font-semibold transition-all duration-200 hover:scale-105"
        >
          DevOps
        </button>
        <button 
          @click="activeTab = 'tools'"
          :class="activeTab === 'tools' ? 'bg-primary-600 text-white' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'"
          class="px-6 py-2 rounded-full font-semibold transition-all duration-200 hover:scale-105"
        >
          Herramientas
        </button>
      </div>

      <!-- Skills list -->
      <div class="grid md:grid-cols-2 gap-6">
        <template x-for="(skill, index) in filteredSkills" :key="skill.name">
          <div 
            x-show="true"
            x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0 transform scale-95"
            x-transition:enter-end="opacity-100 transform scale-100"
            class="card"
          >
            <div class="flex items-center justify-between mb-3">
              <h3 class="text-lg font-semibold text-gray-900 dark:text-white" x-text="skill.name"></h3>
              <span class="text-sm font-bold text-primary-600 dark:text-primary-400" x-text="skill.level + '%'"></span>
            </div>
            
            <!-- Progress bar -->
            <div class="progress-bar">
              <div 
                class="progress-fill"
                :style="`width: ${skill.level}%`"
                x-init="setTimeout(() => $el.style.width = skill.level + '%', 100)"
              ></div>
            </div>

            <!-- Category badge -->
            <div class="mt-3">
              <span class="text-xs px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 capitalize" x-text="skill.category"></span>
            </div>
          </div>
        </template>
      </div>
    </div>

    <!-- Stacks y metodologías -->
    <div class="mt-16 grid md:grid-cols-3 gap-8 animate-on-scroll animation-delay-200">
      <!-- MEVN Stack -->
      <div class="card text-center">
        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white text-2xl font-bold">
          M
        </div>
        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">MEAN Stack</h3>
        <p class="text-gray-600 dark:text-gray-400 mb-4 text-sm">
          Microsoft SQL Server, Express.js, Alpine.js, Node.js
        </p>
        <div class="flex flex-wrap justify-center gap-2">
          <span class="badge text-xs">SQL Server</span>
          <span class="badge text-xs">Express</span>
          <span class="badge text-xs">Alpine.js</span>
          <span class="badge text-xs">Node.js</span>
        </div>
      </div>

      <!-- Arquitectura -->
      <div class="card text-center">
        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-secondary-500 to-primary-500 flex items-center justify-center text-white text-2xl font-bold">
          A
        </div>
        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Arquitectura</h3>
        <p class="text-gray-600 dark:text-gray-400 mb-4 text-sm">
          Principios SOLID y patrones de diseño
        </p>
        <div class="flex flex-wrap justify-center gap-2">
          <span class="badge text-xs">SOLID</span>
          <span class="badge text-xs">Hexagonal</span>
          <span class="badge text-xs">REST</span>
          <span class="badge text-xs">MVC</span>
        </div>
      </div>

      <!-- DevOps -->
      <div class="card text-center">
        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white text-2xl font-bold">
          D
        </div>
        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">DevOps</h3>
        <p class="text-gray-600 dark:text-gray-400 mb-4 text-sm">
          Control de versiones y despliegue
        </p>
        <div class="flex flex-wrap justify-center gap-2">
          <span class="badge text-xs">Git</span>
          <span class="badge text-xs">GitHub</span>
          <span class="badge text-xs">npm</span>
        </div>
      </div>
    </div>
  </div>
</section>